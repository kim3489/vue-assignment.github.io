(function(){"use strict";var e={192:function(e,t,o){var i={};o.r(i);var a={};o.r(a);var s={};o.r(s),o.d(s,{A:function(){return be}});var l=o(3751),n=o(641);function r(e,t,o,i,a,s){const l=(0,n.g2)("router-link"),r=(0,n.g2)("router-view"),u=(0,n.g2)("MovieGrid");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("nav",null,[(0,n.bF)(l,{to:"/"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Home")]))),_:1}),t[2]||(t[2]=(0,n.eW)(" | ")),(0,n.bF)(l,{to:"/about"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("About")]))),_:1})]),(0,n.bF)(r),(0,n.bF)(u,{fetchUrl:"https://api.example.com/movies"})],64)}var u=o(33);const c={class:"movie-grid",ref:"gridContainer"},d=["onMouseup"],v=["src","alt"],g={class:"movie-title"},p={key:0,class:"wishlist-indicator"},h={key:0,class:"pagination"},m=["disabled"],f=["disabled"];function w(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",{class:(0,u.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,u.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,v),(0,n.Lk)("div",g,(0,u.v_)(e.title),1),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",p,"👍")):(0,n.Q3)("",!0)],40,d)))),128))],2)))),128))],2),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,m),(0,n.Lk)("span",null,(0,u.v_)(i.currentPage)+" / "+(0,u.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,f)])):(0,n.Q3)("",!0)],512)}o(4114),o(8992),o(8872);var b=o(953),k=o(4335),L={name:"MovieGrid",props:{fetchUrl:{type:String,required:!0}},setup(e){const t=(0,b.KR)(null),o=(0,b.KR)([]),i=(0,b.KR)(1),a=(0,b.KR)(4),s=(0,b.KR)(20),l=(0,b.KR)(window.innerWidth<=768),r=(0,b.KR)("grid");let u=null;const c=(0,n.EW)((()=>{const e=(i.value-1)*s.value,t=e+s.value,l=o.value.slice(e,t);return l.reduce(((e,t,o)=>{const i=Math.floor(o/a.value);return e[i]||(e[i]=[]),e[i].push(t),e}),[])})),d=(0,n.EW)((()=>Math.ceil(o.value.length/s.value))),v=async()=>{try{const t=120,i=Math.ceil(t/20);let a=[];for(let o=1;o<=i;o++){const t=await k.A.get(e.fetchUrl,{params:{page:o,per_page:s.value}});a=[...a,...t.data.results]}o.value=a.slice(0,t)}catch(t){console.error("Error fetching movies:",t)}},g=e=>`https://image.tmdb.org/t/p/w300${e}`,p=()=>{i.value<d.value&&i.value++},h=()=>{i.value>1&&i.value--},m=()=>{l.value=window.innerWidth<=768,f()},f=()=>{if(t.value){const e=t.value,o=e.offsetWidth,i=window.innerHeight-e.offsetTop,n=l.value?90:200,r=l.value?150:220,u=l.value?10:15,c=-10;a.value=Math.floor(o/(n+u));const d=Math.floor(i/(r+c));s.value=a.value*d}},w=e=>{u&&clearTimeout(u),u=setTimeout((()=>{console.log("Toggle wishlist for movie:",e.title)}),2e3)},L=e=>!1;return(0,n.sV)((async()=>{await v(),(0,n.dY)((()=>{f()})),window.addEventListener("resize",m)})),(0,n.hi)((()=>{window.removeEventListener("resize",m),u&&clearTimeout(u)})),{gridContainer:t,movies:o,currentPage:i,rowSize:a,moviesPerPage:s,isMobile:l,currentView:r,visibleMovieGroups:c,totalPages:d,getImageUrl:g,nextPage:p,prevPage:h,toggleWishlist:w,isInWishlist:L}}},E=o(6262);const C=(0,E.A)(L,[["render",w],["__scopeId","data-v-7257c0fc"]]);var y=C,R={components:{MovieGrid:y}};const K=(0,E.A)(R,[["render",r]]);var M=K,I=o(3723);(0,I.k)("/vue-assignment.github.io/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var P=o(5220);const W={class:"container"},_={id:"phone"},T={id:"content-wrapper"},F={class:"checkbox remember"},O=["disabled"],X={class:"checkbox remember"},S=["disabled"];function A(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",null,[t[33]||(t[33]=(0,n.Lk)("div",{class:"bg-image"},null,-1)),(0,n.Lk)("div",W,[(0,n.Lk)("div",_,[(0,n.Lk)("div",T,[(0,n.Lk)("div",{class:(0,u.C4)({card:!0,hidden:!i.isLoginVisible}),id:"login"},[(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,l.D$)(((...e)=>i.handleLogin&&i.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,n.Lk)("h1",null,"Sign in",-1)),(0,n.Lk)("div",{class:(0,u.C4)(["input",{active:i.isEmailFocused||i.email}])},[(0,n.bo)((0,n.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),onFocus:t[1]||(t[1]=e=>i.focusInput("email")),onBlur:t[2]||(t[2]=e=>i.blurInput("email"))},null,544),[[l.Jo,i.email]]),t[21]||(t[21]=(0,n.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,n.Lk)("div",{class:(0,u.C4)(["input",{active:i.isPasswordFocused||i.password}])},[(0,n.bo)((0,n.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>i.password=e),onFocus:t[4]||(t[4]=e=>i.focusInput("password")),onBlur:t[5]||(t[5]=e=>i.blurInput("password"))},null,544),[[l.Jo,i.password]]),t[22]||(t[22]=(0,n.Lk)("label",{for:"password"},"Password",-1))],2),(0,n.Lk)("span",F,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>i.rememberMe=e)},null,512),[[l.lH,i.rememberMe]]),t[23]||(t[23]=(0,n.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,n.Lk)("span",{class:"checkbox forgot"},[(0,n.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,n.Lk)("button",{disabled:!i.isLoginFormValid},"Login",8,O)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>i.toggleCard&&i.toggleCard(...e))},t[26]||(t[26]=[(0,n.eW)("Already an account? "),(0,n.Lk)("b",null,"Sign in",-1)]))],2),(0,n.Lk)("div",{class:(0,u.C4)({card:!0,hidden:i.isLoginVisible}),id:"register"},[(0,n.Lk)("form",{onSubmit:t[19]||(t[19]=(0,l.D$)(((...e)=>i.handleRegister&&i.handleRegister(...e)),["prevent"]))},[t[31]||(t[31]=(0,n.Lk)("h1",null,"Sign up",-1)),(0,n.Lk)("div",{class:(0,u.C4)(["input",{active:i.isRegisterEmailFocused||i.registerEmail}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>i.registerEmail=e),onFocus:t[10]||(t[10]=e=>i.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>i.blurInput("registerEmail"))},null,544),[[l.Jo,i.registerEmail]]),t[27]||(t[27]=(0,n.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,n.Lk)("div",{class:(0,u.C4)(["input",{active:i.isRegisterPasswordFocused||i.registerPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>i.registerPassword=e),onFocus:t[13]||(t[13]=e=>i.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>i.blurInput("registerPassword"))},null,544),[[l.Jo,i.registerPassword]]),t[28]||(t[28]=(0,n.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,n.Lk)("div",{class:(0,u.C4)(["input",{active:i.isConfirmPasswordFocused||i.confirmPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>i.confirmPassword=e),onFocus:t[16]||(t[16]=e=>i.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>i.blurInput("confirmPassword"))},null,544),[[l.Jo,i.confirmPassword]]),t[29]||(t[29]=(0,n.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,n.Lk)("span",X,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>i.acceptTerms=e)},null,512),[[l.lH,i.acceptTerms]]),t[30]||(t[30]=(0,n.Lk)("label",{for:"terms",class:"read-text"},[(0,n.eW)("I have read "),(0,n.Lk)("b",null,"Terms and Conditions")],-1))]),(0,n.Lk)("button",{disabled:!i.isRegisterFormValid},"Register",8,S)],32),(0,n.Lk)("a",{href:"javascript:void(0)",id:"gotologin",class:"account-check",onClick:t[20]||(t[20]=(...e)=>i.toggleCard&&i.toggleCard(...e))},t[32]||(t[32]=[(0,n.eW)("Don't have an account? "),(0,n.Lk)("b",null,"Sign up",-1)]))],2)])])])])}o(2577),o(7550);var U={name:"SignIn",setup(){const e=(0,P.rd)(),t=new i["default"],o=(0,b.KR)(!0),a=(0,b.KR)(""),s=(0,b.KR)(""),l=(0,b.KR)(""),r=(0,b.KR)(""),u=(0,b.KR)(""),c=(0,b.KR)(!1),d=(0,b.KR)(!1),v=(0,b.KR)(!1),g=(0,b.KR)(!1),p=(0,b.KR)(!1),h=(0,b.KR)(!1),m=(0,b.KR)(!1),f=(0,n.EW)((()=>!!a.value&&!!s.value)),w=(0,n.EW)((()=>!!l.value&&!!r.value&&!!u.value&&r.value===u.value&&d.value)),k=()=>{o.value=!o.value,setTimeout((()=>{document.getElementById("register")?.classList.toggle("register-swap"),document.getElementById("login")?.classList.toggle("login-swap")}),50)},L=e=>{switch(e){case"email":v.value=!0;break;case"password":g.value=!0;break;case"registerEmail":p.value=!0;break;case"registerPassword":h.value=!0;break;case"confirmPassword":m.value=!0;break}},E=e=>{switch(e){case"email":v.value=!1;break;case"password":g.value=!1;break;case"registerEmail":p.value=!1;break;case"registerPassword":h.value=!1;break;case"confirmPassword":m.value=!1;break}},C=()=>{t.tryLogin(a.value,s.value).then((()=>{e.push("/")})).catch((()=>{alert("Login failed")}))},y=()=>{t.tryRegister(l.value,r.value).then((()=>{k()})).catch((e=>{alert(e.message)}))};return(0,n.sV)((()=>{})),(0,n.hi)((()=>{})),{isLoginVisible:o,email:a,password:s,registerEmail:l,registerPassword:r,confirmPassword:u,rememberMe:c,acceptTerms:d,isEmailFocused:v,isPasswordFocused:g,isRegisterEmailFocused:p,isRegisterPasswordFocused:h,isConfirmPasswordFocused:m,isLoginFormValid:f,isRegisterFormValid:w,toggleCard:k,focusInput:L,blurInput:E,handleLogin:C,handleRegister:y}}};const V=(0,E.A)(U,[["render",A],["__scopeId","data-v-11725252"]]);var x=V;const j={id:"app"};var z=(0,n.pM)({__name:"app-component",setup(e){(0,b.KR)("Angular-demo");return(e,t)=>{const o=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",j,[(0,n.bF)(o)])}}});const B=(0,E.A)(z,[["__scopeId","data-v-639a2048"]]);var D=B;const $={class:"banner-content"};function Q(e,t,o,i,a,s){return e.movie?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"banner",style:(0,u.Tr)({backgroundImage:`url(${e.backdropUrl})`})},[(0,n.Lk)("div",$,[(0,n.Lk)("h1",null,(0,u.v_)(e.movie.title),1),(0,n.Lk)("p",null,(0,u.v_)(e.movie.overview),1),t[0]||(t[0]=(0,n.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,n.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,n.Q3)("",!0)}var G=(0,n.pM)({name:"BannerComponent",props:{movie:{type:Object,required:!0}},setup(e){const t=(0,n.EW)((()=>e.movie?`https://image.tmdb.org/t/p/original${e.movie.backdrop_path}`:""));return{backdropUrl:t}}});const q=(0,E.A)(G,[["render",Q],["__scopeId","data-v-46ec3169"]]);var H=q;const N={class:"movie-row"},Y=["disabled"],J={class:"slider-window",ref:"sliderWindow"},Z=["onClick"],ee=["src","alt"],te={key:0,class:"wishlist-indicator"},oe=["disabled"];function ie(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("h2",null,(0,u.v_)(o.title),1),(0,n.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...e)=>i.handleWheel&&i.handleWheel(...e)),onTouchstart:t[3]||(t[3]=(...e)=>i.handleTouchStart&&i.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>i.handleTouchMove&&i.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>i.handleTouchEnd&&i.handleTouchEnd(...e)),onMousemove:t[6]||(t[6]=(...e)=>i.handleMouseMove&&i.handleMouseMove(...e)),onMouseleave:t[7]||(t[7]=(...e)=>i.handleMouseLeave&&i.handleMouseLeave(...e))},[(0,n.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>i.slide("left")),style:(0,u.Tr)({opacity:i.showButtons&&!i.atLeftEdge?1:0}),disabled:i.atLeftEdge},"<",12,Y),(0,n.Lk)("div",J,[(0,n.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,u.Tr)({transform:`translateX(${-i.scrollAmount}px)`})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.movies,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,ee),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",te,"👍")):(0,n.Q3)("",!0)],8,Z)))),128))],4)],512),(0,n.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>i.slide("right")),style:(0,u.Tr)({opacity:i.showButtons&&!i.atRightEdge?1:0}),disabled:i.atRightEdge},">",12,oe)],32)])}function ae(e,t,o,i,a,s){const l=(0,n.g2)("movie-wishlist");return(0,n.uX)(),(0,n.Wv)(l)}const se={class:"movie-grid",ref:"gridContainer"},le=["onClick"],ne=["src","alt"],re={class:"movie-title"},ue={key:0,class:"empty-wishlist"},ce={key:1,class:"pagination"},de=["disabled"],ve=["disabled"];function ge(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",se,[(0,n.Lk)("div",{class:(0,u.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleWishlistMovies,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:o,class:(0,u.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,ne),(0,n.Lk)("div",re,(0,u.v_)(e.title),1),t[2]||(t[2]=(0,n.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,le)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,n.uX)(),(0,n.CE)("div",ue," 위시리스트가 비어 있습니다. ")):(0,n.Q3)("",!0),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",ce,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,de),(0,n.Lk)("span",null,(0,u.v_)(i.currentPage)+" / "+(0,u.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,ve)])):(0,n.Q3)("",!0)],512)}var pe={name:"MovieWishlist",setup(){const e=(0,s.useWishlistStore)(),t=(0,b.KR)(null),o=(0,b.KR)(4),i=(0,b.KR)(20),a=(0,b.KR)(1),l=(0,b.KR)(window.innerWidth<=768),r=(0,b.KR)("grid"),u=(0,b.KR)([]),c=(0,b.KR)(null),d=(0,n.EW)((()=>e.wishlist)),v=(0,n.EW)((()=>Math.ceil(d.value.length/i.value))),g=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",p=()=>{if(t.value){const e=t.value,a=e.offsetWidth,s=window.innerHeight-e.offsetTop,n=l.value?90:220,r=l.value?150:330,u=l.value?10:15,c=-10;o.value=Math.floor(a/(n+u));const d=Math.floor(s/(r+c));i.value=o.value*d,h()}},h=()=>{const e=(a.value-1)*i.value,t=e+i.value,s=d.value.slice(e,t);u.value=s.reduce(((e,t,i)=>{const a=Math.floor(i/o.value);return e[a]||(e[a]=[]),e[a].push(t),e}),[])},m=()=>{a.value<v.value&&(a.value++,h())},f=()=>{a.value>1&&(a.value--,h())},w=()=>{l.value=window.innerWidth<=768,p()},k=t=>{e.toggleWishlist(t)};return(0,n.sV)((()=>{w(),window.addEventListener("resize",w);const e=new ResizeObserver((()=>p()));t.value&&e.observe(t.value),(0,n.wB)(d,(()=>{h()}))})),(0,n.hi)((()=>{window.removeEventListener("resize",w),t.value&&c.value.unobserve(t.value),c.value.disconnect()})),{gridContainer:t,rowSize:o,currentPage:a,currentView:r,wishlistMovies:d,visibleWishlistMovies:u,totalPages:v,getImageUrl:g,nextPage:m,prevPage:f,toggleWishlist:k}}};const he=(0,E.A)(pe,[["render",ge],["__scopeId","data-v-c9a224b0"]]);var me=he,fe=(0,n.pM)({name:"HomeWishlist",components:{MovieWishlist:me}});const we=(0,E.A)(fe,[["render",ae],["__scopeId","data-v-bdcb829a"]]);var be=we,ke={name:"MovieRow",props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,s.useWishlistStore)(),o=(0,b.KR)(null),i=(0,b.KR)(null),a=(0,b.KR)([]),l=(0,b.KR)(0),r=(0,b.KR)(!1),u=(0,b.KR)(!1),c=(0,b.KR)(0),d=(0,b.KR)(0),v=(0,b.KR)(0),g=(0,n.EW)((()=>l.value<=0)),p=(0,n.EW)((()=>l.value>=v.value)),h=async()=>{try{const t=await k.A.get(e.fetchUrl);a.value=t.data.results,await(0,n.dY)(),K()}catch(t){console.error("Error fetching movies:",t)}},m=e=>`https://image.tmdb.org/t/p/w300${e}`,f=(e,t=null)=>{const o=t||.8*i.value.clientWidth;l.value="left"===e?Math.max(0,l.value-o):Math.min(v.value,l.value+o)},w=()=>r.value=!0,L=()=>r.value=!1,E=e=>{if(e.preventDefault(),u.value)return;u.value=!0;const t=e.deltaY>0?"right":"left";f(t),setTimeout((()=>{u.value=!1}),500)},C=e=>{c.value=e.touches[0].clientX,d.value=e.touches[0].clientX},y=e=>{d.value=e.touches[0].clientX},R=()=>{const e=c.value-d.value,t=50;if(Math.abs(e)>t){const t=e>0?"right":"left";f(t,Math.abs(e))}},K=()=>{o.value&&i.value&&(v.value=Math.max(0,o.value.scrollWidth-i.value.clientWidth))},M=()=>{K(),l.value=Math.min(l.value,v.value)},I=e=>{t.toggleWishlist(e)},P=e=>t.isInWishlist(e);return(0,n.sV)((()=>{h(),window.addEventListener("resize",M)})),(0,n.hi)((()=>{window.removeEventListener("resize",M)})),{movies:a,scrollAmount:l,showButtons:r,slider:o,sliderWindow:i,atLeftEdge:g,atRightEdge:p,getImageUrl:m,slide:f,handleMouseMove:w,handleMouseLeave:L,handleWheel:E,handleTouchStart:C,handleTouchMove:y,handleTouchEnd:R,toggleWishlist:I,isInWishlist:P}}};const Le=(0,E.A)(ke,[["render",ie],["__scopeId","data-v-53a99ea1"]]);var Ee=Le;const Ce={class:"home"};var ye={__name:"home-main",setup(e){const t=(0,b.KR)(localStorage.getItem("f908ad8e7f8d05fafc1072a51caaab1e")||""),o=(0,b.KR)(null),i=(0,b.KR)(""),s=(0,b.KR)(""),l=(0,b.KR)(""),r=new a.URLService;i.value=r.getURL4PopularMovies(t.value),s.value=r.getURL4ReleaseMovies(t.value),l.value=r.getURL4GenreMovies(t.value,"28");const u=async()=>{o.value=await r.fetchFeaturedMovie(t.value)},c=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};window.addEventListener("scroll",e),(0,n.hi)((()=>{window.removeEventListener("scroll",e)}))};return(0,n.sV)((()=>{u(),c()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",Ce,[(0,n.bF)(H,{movie:o.value},null,8,["movie"]),(0,n.bF)(Ee,{title:"인기 영화","fetch-url":i.value},null,8,["fetch-url"]),(0,n.bF)(Ee,{title:"최신 영화","fetch-url":s.value},null,8,["fetch-url"]),(0,n.bF)(Ee,{title:"액션 영화","fetch-url":l.value},null,8,["fetch-url"])]))}};const Re=(0,E.A)(ye,[["__scopeId","data-v-5cec77d4"]]);var Ke=Re;const Me={class:"container-search"},Ie={class:"container-search-bar"},Pe={class:"content-search"};function We(e,t,o,i,a,s){const l=(0,n.g2)("movie-search"),r=(0,n.g2)("movie-infinite-scroll");return(0,n.uX)(),(0,n.CE)("div",Me,[(0,n.Lk)("div",Ie,[(0,n.bF)(l,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,n.Lk)("div",Pe,[(0,n.bF)(r,{"api-key":i.apiKey,"genre-code":i.genreId,"sorting-order":i.sortId,"vote-average":i.ageId},null,8,["api-key","genre-code","sorting-order","vote-average"])])])}const _e={class:"dropdown-container"},Te=["onClick"],Fe={key:0,class:"select-items"},Oe=["onClick"];function Xe(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",_e,[t[1]||(t[1]=(0,n.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.dropdownEntries,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.key,class:"custom-select"},[(0,n.Lk)("div",{class:"select-selected",onClick:t=>s.toggleDropdown(e.key)},(0,u.v_)(a.selectedOptions[e.key]),9,Te),a.activeDropdown===e.key?((0,n.uX)(),(0,n.CE)("div",Fe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,onClick:o=>s.selectOption(e.key,t)},(0,u.v_)(t),9,Oe)))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>s.clearOptions&&s.clearOptions(...e))},"초기화")])}o(1454);var Se={name:"MovieSearch",data(){return{dropdowns:{originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},DEFAULT_OPTIONS:{originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},selectedOptions:{},activeDropdown:null}},computed:{dropdownEntries(){return Object.entries(this.dropdowns).map((([e,t])=>({key:e,options:t})))}},methods:{toggleDropdown(e){this.activeDropdown=this.activeDropdown===e?null:e},selectOption(e,t){this.selectedOptions={...this.selectedOptions,[e]:t},this.activeDropdown=null,this.$emit("changeOptions",this.selectedOptions)},clearOptions(){this.selectedOptions={...this.DEFAULT_OPTIONS},this.$emit("changeOptions",this.selectedOptions)}},created(){this.selectedOptions={...this.DEFAULT_OPTIONS}}};const Ae=(0,E.A)(Se,[["render",Xe],["__scopeId","data-v-c742f148"]]);var Ue=Ae;const Ve={class:"movie-grid",ref:"gridContainer"},xe=["onMouseup"],je=["src","alt"],ze={class:"movie-title"},Be={key:0,class:"wishlist-indicator"},De={ref:"loadingTrigger",class:"loading-trigger"},$e={key:0,class:"loading-indicator"};function Qe(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",Ve,[(0,n.Lk)("div",{class:(0,u.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,u.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,je),(0,n.Lk)("div",ze,(0,u.v_)(e.title),1),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",Be,"👍")):(0,n.Q3)("",!0)],40,xe)))),128))],2)))),128))],2),(0,n.Lk)("div",De,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",$e,t[1]||(t[1]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("span",null,"Loading...",-1)]))):(0,n.Q3)("",!0)],512),i.showTopButton?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"맨 위로 이동"}," Top ")):(0,n.Q3)("",!0)],512)}o(4520);var Ge={name:"MovieInfiniteScroll",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const t=(0,b.KR)(null),o=(0,b.KR)(null),i=(0,b.KR)([]),a=(0,b.KR)(1),l=(0,b.KR)(4),r=(0,b.KR)(!1),u=(0,b.KR)(window.innerWidth<=768),c=(0,b.KR)("grid"),d=(0,b.KR)(!0),v=(0,b.KR)(!1),g=(0,b.KR)(null),p=(0,b.KR)(null),{isInWishlist:h,toggleWishlist:m}=(0,s.useWishlistService)(),f=(0,n.EW)((()=>i.value.reduce(((e,t,o)=>{const i=Math.floor(o/l.value);return e[i]||(e[i]=[]),e[i].push(t),e}),[]))),w=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",L=async()=>{if(!r.value&&d.value){r.value=!0;try{const t="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",o={api_key:e.apiKey,language:"ko-KR",page:a.value,per_page:10};"0"!==e.genreCode&&Object.assign(o,{with_genres:e.genreCode});const s=await k.A.get(t,{params:o}),l=s.data.results;if(l.length>0){let t=[...i.value,...l];"all"!==e.sortingOrder&&(t=t.filter((t=>t.original_language===e.sortingOrder))),t=t.filter((t=>-1===e.voteEverage||(-2===e.voteEverage?t.vote_average<=4:t.vote_average>=e.voteEverage&&t.vote_average<e.voteEverage+1))),i.value=t,a.value++}else d.value=!1}catch(t){console.error("Error fetching movies:",t)}finally{r.value=!1}}},E=()=>{if(u.value=window.innerWidth<=768,t.value){const e=t.value.offsetWidth,o=u.value?100:300,i=u.value?10:15;l.value=Math.floor(e/(o+i))}},C=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;v.value=e>300},y=()=>{window.scrollTo({top:0,behavior:"smooth"}),R()},R=()=>{i.value=[],a.value=1,d.value=!0,L()},K=()=>{p.value=new IntersectionObserver((e=>{e[0].isIntersecting&&!r.value&&d.value&&L()}),{rootMargin:"100px",threshold:.1}),o.value&&p.value.observe(o.value)};return(0,n.sV)((()=>{K(),L(),E(),window.addEventListener("resize",E),window.addEventListener("scroll",C)})),(0,n.hi)((()=>{window.removeEventListener("resize",E),window.removeEventListener("scroll",C),p.value&&p.value.disconnect(),g.value&&clearTimeout(g.value)})),(0,n.wB)([()=>e.genreCode,()=>e.sortingOrder,()=>e.voteEverage],(()=>{R()})),{gridContainer:t,loadingTrigger:o,movies:i,isLoading:r,isMobile:u,currentView:c,showTopButton:v,visibleMovieGroups:f,rowSize:l,getImageUrl:w,scrollToTopAndReset:y,toggleWishlist:m,isInWishlist:h}}};const qe=(0,E.A)(Ge,[["render",Qe],["__scopeId","data-v-d1ec0180"]]);var He=qe,Ne={name:"HomeSearch",components:{MovieSearch:Ue,MovieInfiniteScroll:He},setup(){const e=(0,b.KR)(localStorage.getItem("f908ad8e7f8d05fafc1072a51caaab1e")||""),t=(0,b.KR)("28"),o=(0,b.KR)(-1),i=(0,b.KR)("all"),a=(0,b.Kh)({"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751}),s=(0,b.Kh)({"언어 (전체)":"all","영어":"en","한국어":"ko"}),l=(0,b.Kh)({"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2}),n=e=>{t.value=`${a[e.originalLanguage]}`,o.value=l[e.translationLanguage],i.value=s[e.sorting]};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:n}}};const Ye=(0,E.A)(Ne,[["render",We],["__scopeId","data-v-611758d6"]]);var Je=Ye,Ze=o(1273),et=o(6188);const tt={class:"popular-container"},ot={class:"view-toggle"};var it=(0,n.pM)({__name:"home-popular",setup(e){const t=(0,b.KR)(localStorage.getItem("f908ad8e7f8d05fafc1072a51caaab1e")||""),o=(0,b.KR)("grid"),i=new a.URLService,s=e=>{o.value=e,"grid"===e?l():r()},l=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow="auto"},c=(0,n.EW)((()=>i.getURL4PopularMovies(t.value)));return(0,n.sV)((()=>{l()})),(e,i)=>((0,n.uX)(),(0,n.CE)("div",tt,[(0,n.Lk)("div",ot,[(0,n.Lk)("button",{class:(0,u.C4)({active:"grid"===o.value}),onClick:i[0]||(i[0]=e=>s("grid"))},[(0,n.bF)((0,b.R1)(Ze.gc),{icon:(0,b.R1)(et.UTC)},null,8,["icon"])],2),(0,n.Lk)("button",{class:(0,u.C4)({active:"list"===o.value}),onClick:i[1]||(i[1]=e=>s("list"))},[(0,n.bF)((0,b.R1)(Ze.gc),{icon:(0,b.R1)(et.ckx)},null,8,["icon"])],2)]),"grid"===o.value?((0,n.uX)(),(0,n.Wv)(y,{key:0,title:"인기 영화","fetch-url":c.value},null,8,["fetch-url"])):(0,n.Q3)("",!0),"list"===o.value?((0,n.uX)(),(0,n.Wv)(He,{key:1,"api-key":t.value,"genre-code":"28","sorting-order":"all","vote-everage":-1},null,8,["api-key"])):(0,n.Q3)("",!0)]))}});const at=(0,E.A)(it,[["__scopeId","data-v-19ca36bb"]]);var st=at;const lt=[{path:"/",component:D,children:[{path:"",component:Ke},{path:"popular",component:st},{path:"wishlist",component:be},{path:"search",component:Je}]},{path:"/signin",component:x}],nt=(0,P.aE)({history:(0,P.LA)("/vue-assignment.github.io/"),routes:lt});var rt=nt,ut=o(6278),ct=(0,ut.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),dt=o(7107);dt.Yv.add(et.LkM);const vt=(0,l.Ef)(M);vt.component("font-awesome-icon",Ze.gc),vt.use(rt),vt.use(ct),vt.config.errorHandler=e=>{console.error(e)},vt.config.globalProperties.$someGlobalMethod=()=>{},vt.config.performance=!1,vt.mount("#app")}},t={};function o(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,i,a,s){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],s=e[c][2];for(var n=!0,r=0;r<i.length;r++)(!1&s||l>=s)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(n=!1,s<l&&(l=s));if(n){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,a,s]}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,l=i[0],n=i[1],r=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(r)var c=r(o)}for(t&&t(i);u<l.length;u++)s=l[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},i=self["webpackChunkvue_assignment"]=self["webpackChunkvue_assignment"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(192)}));i=o.O(i)})();
//# sourceMappingURL=app.9a6535e6.js.map