"use strict";(self["webpackChunkvue_assignment"]=self["webpackChunkvue_assignment"]||[]).push([[108],{1718:function(e,t,l){l.d(t,{H:function(){return o},_D:function(){return i},e2:function(){return n},eI:function(){return s}});var a=l(4335);const o=async e=>{try{const t=await a.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){console.error("Error fetching featured movie:",t)}},n=(e,t=1)=>`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`,s=(e,t=2)=>`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`,i=(e,t,l=1)=>`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${l}`},6108:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var a=l(641),o=l(953),n=l(6188),s=l(1718),i=l(33);const r={class:"banner-content"};function u(e,t,l,o,n,s){return e.movie?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"banner",style:(0,i.Tr)({backgroundImage:`url(${e.backdropUrl})`})},[(0,a.Lk)("div",r,[(0,a.Lk)("h1",null,(0,i.v_)(e.movie.title),1),(0,a.Lk)("p",null,(0,i.v_)(e.movie.overview),1),t[0]||(t[0]=(0,a.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,a.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,a.Q3)("",!0)}var c=(0,a.pM)({name:"BannerComponent",props:{movie:{type:Object,required:!0}},setup(e){const t=(0,a.EW)((()=>e.movie?`https://image.tmdb.org/t/p/original${e.movie.backdrop_path}`:""));return{backdropUrl:t}}}),d=l(6262);const v=(0,d.A)(c,[["render",u],["__scopeId","data-v-5cce7c82"]]);var h=v;const g={class:"movie-row"},p=["disabled"],m={class:"slider-window",ref:"sliderWindow"},f=["onClick"],b=["src","alt"],k={key:0,class:"wishlist-indicator"},w=["disabled"];function y(e,t,l,o,n,s){return(0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("h2",null,(0,i.v_)(l.title),1),(0,a.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...e)=>o.handleWheel&&o.handleWheel(...e)),onTouchstart:t[3]||(t[3]=(...e)=>o.handleTouchStart&&o.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>o.handleTouchMove&&o.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>o.handleTouchEnd&&o.handleTouchEnd(...e)),onMousemove:t[6]||(t[6]=(...e)=>o.handleMouseMove&&o.handleMouseMove(...e)),onMouseleave:t[7]||(t[7]=(...e)=>o.handleMouseLeave&&o.handleMouseLeave(...e))},[(0,a.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>o.slide("left")),style:(0,i.Tr)({opacity:o.showButtons&&!o.atLeftEdge?1:0}),disabled:o.atLeftEdge},"<",12,p),(0,a.Lk)("div",m,[(0,a.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,i.Tr)({transform:`translateX(${-o.scrollAmount}px)`})},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onClick:t=>o.toggleWishlist(e)},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title},null,8,b),o.isInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",k,"👍")):(0,a.Q3)("",!0)],8,f)))),128))],4)],512),(0,a.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>o.slide("right")),style:(0,i.Tr)({opacity:o.showButtons&&!o.atRightEdge?1:0}),disabled:o.atRightEdge},">",12,w)],32)])}var M=l(4335),E=l(4040),L=l(3751);const _={name:"MovieRow",props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,o.KR)(null),l=(0,o.KR)(null),n=(0,o.KR)([]),s=(0,o.KR)(0),i=(0,o.KR)(!1),r=(0,o.KR)(!1),u=(0,o.KR)(0),c=(0,o.KR)(0),d=(0,a.EW)((()=>s.value<=0)),v=(0,a.EW)((()=>s.value>=T.value)),{wishlist:h,toggleWishlist:g,isInWishlist:p}=(0,E.n)(),m=async()=>{try{const t=await M.A.get(e.fetchUrl);n.value=t.data.results,console.log(n.value)}catch(t){console.error("Error fetching movies:",t)}},f=e=>`https://image.tmdb.org/t/p/w300${e}`,b=(e,t=null)=>{const a=t||.8*(l.value?.clientWidth||0);s.value="left"===e?Math.max(0,s.value-a):Math.min(T.value,s.value+a)},k=()=>{i.value=!0},w=()=>{i.value=!1},y=e=>{if(e.preventDefault(),r.value)return;r.value=!0;const t=e.deltaY>0?"right":"left";b(t),setTimeout((()=>{r.value=!1}),500)},L=e=>{u.value=e.touches[0].clientX,c.value=e.touches[0].clientX},_=e=>{c.value=e.touches[0].clientX},R=()=>{const e=u.value-c.value,t=50;if(Math.abs(e)>t){const t=e>0?"right":"left";b(t,Math.abs(e))}},K=()=>t.value&&l.value?Math.max(0,t.value.scrollWidth-l.value.clientWidth):0,T=(0,o.KR)(K()),W=()=>{T.value=K(),s.value=Math.min(s.value,T.value)};return(0,a.sV)((()=>{m(),window.addEventListener("resize",W),W()})),(0,a.wB)(n,(()=>{setTimeout(W,0)})),{slider:t,sliderWindow:l,movies:n,scrollAmount:s,showButtons:i,atLeftEdge:d,atRightEdge:v,getImageUrl:f,slide:b,handleMouseMove:k,handleMouseLeave:w,handleWheel:y,handleTouchStart:L,handleTouchMove:_,handleTouchEnd:R,toggleWishlist:g,isInWishlist:p}}},R=()=>{(0,L.$9)((e=>({52467153:e.fontSize})))},K=_.setup;_.setup=K?(e,t)=>(R(),K(e,t)):R;var T=_;const W=(0,d.A)(T,[["render",y],["__scopeId","data-v-244a3430"]]);var I=W,C=l(7107);const $={class:"home"};var X={__name:"home-main",setup(e){C.Yv.add(n.MjD,n.X46);const t=(0,o.KR)(localStorage.getItem("TMDb-Key")||""),l=(0,o.KR)(null),i=(0,o.KR)(""),r=(0,o.KR)(""),u=(0,o.KR)("");i.value=(0,s.e2)(t.value),r.value=(0,s.eI)(t.value),u.value=(0,s._D)(t.value,"28"),(0,s.H)(t.value).then((e=>{l.value=e}));const c=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled")};return(0,a.sV)((()=>{window.addEventListener("scroll",c),setInterval((()=>{}),1e3)})),(0,a.hi)((()=>{window.removeEventListener("scroll",c)})),(e,t)=>((0,a.uX)(),(0,a.CE)("div",$,[(0,a.bF)(h,{movie:l.value},null,8,["movie"]),(0,a.bF)(I,{title:"인기 영화","fetch-url":i.value},null,8,["fetch-url"]),(0,a.bF)(I,{title:"최신 영화","fetch-url":r.value},null,8,["fetch-url"]),(0,a.bF)(I,{title:"액션 영화","fetch-url":u.value},null,8,["fetch-url"])]))}};const S=(0,d.A)(X,[["__scopeId","data-v-53eff80f"]]);var A=S}}]);
//# sourceMappingURL=108.3507a252.js.map