"use strict";(self["webpackChunkvue_assignment"]=self["webpackChunkvue_assignment"]||[]).push([[535],{4040:function(e,i,t){t.d(i,{n:function(){return l}});t(4114),t(8992),t(7550);var s=t(144);function l(){const e=(0,s.KR)([]),i=()=>{const i=localStorage.getItem("movieWishlist");i&&(e.value=JSON.parse(i))},t=()=>{localStorage.setItem("movieWishlist",JSON.stringify(e.value))},l=i=>{const s=e.value.findIndex((e=>e.id===i.id));-1===s?e.value.push(i):e.value.splice(s,1),t()},a=i=>e.value.some((e=>e.id===i));return{wishlist:e,loadWishlist:i,toggleWishlist:l,isInWishlist:a}}},9535:function(e,i,t){t.r(i),t.d(i,{default:function(){return P}});var s=t(6768),l=t(4232);const a={class:"movie-grid",ref:"gridContainer"},n=["onClick"],o=["src","alt"],u={class:"movie-title"},r={key:0,class:"empty-wishlist"},v={key:1,class:"pagination"},c=["disabled"],d=["disabled"];function g(e,i,t,g,h,p){return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",{class:(0,l.C4)(["grid-container",e.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(g.visibleWishlistMovies,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:(0,l.C4)(["movie-row",{full:e.length===g.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:i=>g.toggleWishlist(e)},[(0,s.Lk)("img",{src:g.getImageUrl(e.poster_path),alt:e.title},null,8,o),(0,s.Lk)("div",u,(0,l.v_)(e.title),1),i[2]||(i[2]=(0,s.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,n)))),128))],2)))),128))],2),0===g.wishlistMovies.length?((0,s.uX)(),(0,s.CE)("div",r," 위시리스트가 비어 있습니다. ")):(0,s.Q3)("",!0),g.totalPages>1?((0,s.uX)(),(0,s.CE)("div",v,[(0,s.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>g.prevPage&&g.prevPage(...e)),disabled:1===g.currentPage},"< 이전",8,c),(0,s.Lk)("span",null,(0,l.v_)(g.currentPage)+" / "+(0,l.v_)(g.totalPages),1),(0,s.Lk)("button",{onClick:i[1]||(i[1]=(...e)=>g.nextPage&&g.nextPage(...e)),disabled:g.currentPage===g.totalPages},"다음 >",8,d)])):(0,s.Q3)("",!0)],512)}t(4114),t(8992),t(8872);var h=t(144),p=t(4040),w={name:"MovieGrid",setup(){const e=(0,h.KR)(null),i=(0,h.KR)(4),t=(0,h.KR)(20),l=(0,h.KR)(1),a=(0,h.KR)(window.innerWidth<=768),{wishlist:n,loadWishlist:o,toggleWishlist:u,isInWishlist:r}=((0,h.KR)("grid"),(0,p.n)()),v=(0,s.EW)((()=>n.value)),c=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",d=()=>{if(e.value){const s=e.value.offsetWidth,l=window.innerHeight-e.value.offsetTop,n=a.value?90:220,o=a.value?150:330,u=a.value?10:15,r=-10;i.value=Math.floor(s/(n+u));const v=Math.floor(l/(o+r));t.value=i.value*v}},g=(0,s.EW)((()=>{const e=(l.value-1)*t.value,s=e+t.value,a=v.value.slice(e,s);return a.reduce(((e,t,s)=>{const l=Math.floor(s/i.value);return e[l]||(e[l]=[]),e[l].push(t),e}),[])})),w=(0,s.EW)((()=>Math.ceil(v.value.length/t.value))),f=()=>{l.value<w.value&&l.value++},m=()=>{l.value>1&&l.value--},W=()=>{a.value=window.innerWidth<=768,d()};return(0,s.sV)((()=>{o(),d(),window.addEventListener("resize",W)})),(0,s.hi)((()=>{window.removeEventListener("resize",W)})),(0,s.wB)([i,t],(()=>{l.value=1})),{visibleWishlistMovies:g,wishlistMovies:v,currentPage:l,totalPages:w,getImageUrl:c,nextPage:f,prevPage:m,gridContainer:e,rowSize:i,toggleWishlist:u,isInWishlist:r}}},f=t(1241);const m=(0,f.A)(w,[["render",g],["__scopeId","data-v-4361f86c"]]);var W=m,k=(0,s.pM)({__name:"home-wishlist",setup(e){return(e,i)=>((0,s.uX)(),(0,s.Wv)(W))}});const C=k;var P=C}}]);
//# sourceMappingURL=535.2acb989b.js.map